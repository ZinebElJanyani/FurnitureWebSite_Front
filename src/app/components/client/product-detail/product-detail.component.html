<app-navbar></app-navbar>


<div class="wrapper bg-dark-white">

    <!-- HEADER-AREA START -->
    
    <!-- HEADER-AREA END -->
    
    <!-- HEADING-BANNER START -->
    <div class="heading-banner-area overlay-bg">
        <div class="container">
            <div class="row">
                <div class="col-md-12">
                    <div class="heading-banner">
                        <div class="heading-banner-title">
                            <h2>Single Product</h2>
                        </div>
                        <div class="breadcumbs pb-15">
                            <ul>
                                <li><a href="index.html">Home</a></li>
                                <li>Single Product</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- HEADING-BANNER END -->
    <!-- PRODUCT-AREA START -->
    <div class="product-area single-pro-area pt-80 pb-80 product-style-2">
        <div class="container">	
            <div class="row shop-list single-pro-info no-sidebar">
                <!-- Single-product start -->
                <div class="col-lg-12">
                    <div class="single-product clearfix">
                        <!-- Single-pro-slider Big-photo start -->
                        <div class="single-pro-slider single-big-photo view-lightbox slider-for">
                            
                            <app-carousel [images]="images_product" [indicators]="false" [autoSlide]="false" [animation]="false" [selectedIndex]="selectedIndx"></app-carousel>

                        </div>	
                        <!-- Single-pro-slider Big-photo end -->								
                        <div class="product-info">
                            <div class="fix">
                                <h4 class="post-title floatleft">{{product.nom}}</h4>
                                <span class="pro-rating floatright">
                                    <a href="#"><i class="zmdi zmdi-star"></i></a>
                                    <a href="#"><i class="zmdi zmdi-star"></i></a>
                                    <a href="#"><i class="zmdi zmdi-star"></i></a>
                                    <a href="#"><i class="zmdi zmdi-star-half"></i></a>
                                    <a href="#"><i class="zmdi zmdi-star-half"></i></a>
                                    <span>( 27 Rating )</span>
                                </span>
                            </div>
                            <div class="fix mb-20">
                                <span class="pro-price">{{product.price - product.promotion|number:'0.00'}} DH</span>
                                <span *ngIf="product.promotion" class="old-price">{{product.price}} DH</span>
								
                            </div>
                            <div class="product-description">
                                <p>There are many variations of passages of Lorem Ipsum available, but the majority have be suffered alteration in some form, by injected humou or randomised words which donot look even slightly believable. If you are going to use a passage of Lorem Ipsum. </p>
                            </div>
                            <!-- color start -->								
                            <div class="color-filter single-pro-color mb-20 clearfix">
                                <ul>
                                    <li><span class="color-title text-capitalize">color</span></li>
                                    <li class="active"><span class="color" [style.background]="product.color"></span></li>
    
                                </ul>
                            </div>
                            <!-- color end -->
                            <!-- Size start -->
                            <div class="size-filter single-pro-size mb-35 clearfix">
                                <ul>
                                    <li><span class="color-title text-capitalize">size</span></li>
                                    <li><a href="#">M</a></li>
                                    <li class="active"><a href="#">S</a></li>
                                    <li><a href="#">L</a></li>
                                    <li><a href="#">SL</a></li>
                                    <li><a href="#">XL</a></li>
                                </ul>
                            </div>
                            <!-- Size end -->
                            <div class="clearfix">
                                <div class="cart-plus-minus">
                                    <div class="dec qtybutton" (click)="quantity=quantity-1">-</div>
                                    <input type="text" value="{{'0'+quantity}}" name="qtybutton" class="cart-plus-minus-box">
                                    <div class="inc qtybutton" (click)="quantity=quantity+1">+</div>
                            </div>
                                <div class="product-action clearfix">
                                    <a  (click)="favoriteProduct(product.id)" data-toggle="tooltip" data-placement="top" title="Wishlist"><i class="zmdi" [class.zmdi-favorite]="isFavorite" [class.zmdi-favorite-outline]="!isFavorite"></i></a>
       
                                    <a (click)="onAddToCart(product.id,quantity)" data-toggle="tooltip" data-placement="top" title="Add To Cart"><i class="zmdi zmdi-shopping-cart-plus"></i></a>
                                </div>
                            </div>
                            <!-- Single-pro-slider Small-photo start -->
                           
                            
                            <div class="single-pro-slider single-sml-photo slider-nav">
                                <div *ngFor="let image of images_product; let i = index;" class="img-slide">
                                    <img [src]="image" alt="" (click)="OnImgClick(i)" >
                                </div>
                            </div>
                            <!-- Single-pro-slider Small-photo end -->
                        </div>
                    </div>
                </div>
                <!-- Single-product end -->
            </div>
            <!-- single-product-tab start -->
            <div class="single-pro-tab">
                <div class="row">
                    <div class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
                        <div class="single-pro-tab-menu">
                            <!-- Nav tabs -->
                            <ul class="">
                                <li (click)="isDescActive=true;isRevActive=false;isInfActive=false;isTagActive=false" [class.active]="isDescActive"><a  data-toggle="tab">Description</a></li>
                               <li (click)="isDescActive=false;isRevActive=true;isInfActive=false;isTagActive=false" [class.active]="isRevActive"><a  data-toggle="tab">Reviews</a></li>
                                <li (click)="isDescActive=false;isRevActive=false;isInfActive=true;isTagActive=false" [class.active]="isInfActive"><a  data-toggle="tab">Information</a></li>
                                <li (click)="isDescActive=false;isRevActive=false;isInfActive=false;isTagActive=true" [class.active]="isTagActive"><a  data-toggle="tab">Tags</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="col-lg-9 col-md-9 col-sm-9 col-xs-12">
                        <!-- Tab panes -->
                        <div class="tab-content">
                            <div class="tab-pane" id="description" [class.active]="isDescActive">
                                <div class="pro-tab-info pro-description">
                                    <h3 class="tab-title title-border mb-30">dummy Product name</h3>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer accumsan egestas elese ifend. Phasellus a felis at est bibendum feugiat ut eget eni Praesent et messages in con sectetur posuere dolor non.</p>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer accumsan egestas elese ifend. Phasellus a felis at est bibendum feugiat ut eget eni Praesent et messages in con sectetur posuere dolor non.</p>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer accumsan egestas elese ifend. Phasellus a felis at est bibendum feugiat ut eget eni Praesent et messages in con sectetur posuere dolor non.</p>
                                </div>
                            </div>
                            <div class="tab-pane " id="reviews" [class.active]="isRevActive" >
                                <div class="pro-tab-info pro-reviews">
                                    <div class="customer-review mb-60">
                                        <h3 class="tab-title title-border mb-30">Customer review</h3>
                                        <div class="thank-recieve bg-white mb-30" *ngIf="reviews.length==0">
                                            <p>Be the first to review this product.</p>
                                        </div>
                                        <ul class="product-comments clearfix">
                                            <li class="mb-30" *ngFor="let review of reviews">
                                                <div class="pro-reviewer">
                                                    <img src="{{'http://localhost:8084/api/UserAccount/userImage/'+review.id_customer}}" alt="" />
                                                </div>
                                                <div class="pro-reviewer-comment" >
                                                    <div class="fix">
                                                        <div class="floatleft mbl-center">
                                                            <h5 class="text-uppercase mb-0"><strong>{{review.name}}</strong></h5>
                                                            <p class="reply-date" style="display: inline-block;margin-right:5% ;"> {{review.creeA | date:'dd MMM, yyyy \'at\' h:mma'}}</p>
                                                            <span *ngFor="let i of numbers" style="display: inline-block;" >
                                                                <a *ngIf="i<=review.nbre_etoile" style="color:#C8A165;padding-right: 2%;font-size: 19px;"><i class="zmdi zmdi-star"></i></a>
                                                                <a *ngIf="i>review.nbre_etoile"><i class="zmdi zmdi-star-outline" style="font-size: 19px;" ></i></a>
                                                            </span>
                                                        </div>
                                                        <div class="comment-reply floatright" *ngIf="review.id_customer==this.authService.userAutenticated.id">
                                                            
                                                            <a (click)="onRemoveReview(review.id)"><i class="zmdi zmdi-close"></i></a>
                                                        </div>
                                                    </div>
                                                    <!--<h5 class="mb-10" >{{review.title}}</h5>-->

                                                    <p class="mb-5">{{review.text}}</p>
                                                    <div class="bv-content-data-label-container mr-10" *ngIf="review.isRecommanded==true"> Recommends this product </div>
                                                    <div class="bv-content-data-value" *ngIf="review.isRecommanded==true">
                                                         <span class="bv-content-data-icon" aria-hidden="true">✔</span>
                                                          <span class="bv-content-data-label">Yes</span> 
                                                    </div>
                                                    <div style="width: 30%;height: 20%;margin-top: 5%;">
                                                    <img *ngIf="review.image!='' " src="{{this.categoryService.host+'/ReviewImage/'+review.id}}" alt="" >
                                                    </div>
                                                    <hr>

                                                </div>
                                            </li>
                                          
                                           
                                        </ul>
                                    </div>
                                    <div class="leave-review">
                                        <h3 class="tab-title title-border mb-30">Leave your reviw</h3>
                                        <div class="your-rating mb-30">
                                            <p class="mb-10"><strong>Your Rating</strong></p>
                                            <span (click) = "onOneStar()">
                                                <a ><i class="zmdi" [class.zmdi-star-outline]="!oneStar" [class.zmdi-star]="oneStar"></i></a>
                                            </span>
                                            <span class="separator">|</span>
                                            <span (click) ="onTwoStar()">
                                                <a ><i class="zmdi" [class.zmdi-star-outline]="!twoStar" [class.zmdi-star]="twoStar"></i></a>
                                                <a><i class="zmdi" [class.zmdi-star-outline]="!twoStar" [class.zmdi-star]="twoStar"></i></a>
                                            </span>
                                            <span class="separator">|</span>
                                            <span (click) ="onThreeStar()">
                                                <a ><i class="zmdi" [class.zmdi-star-outline]="!threeStar" [class.zmdi-star]="threeStar"></i></a>
                                                <a ><i class="zmdi" [class.zmdi-star-outline]="!threeStar" [class.zmdi-star]="threeStar"></i></a>
                                                <a ><i class="zmdi" [class.zmdi-star-outline]="!threeStar" [class.zmdi-star]="threeStar"></i></a>
                                            </span>
                                            <span class="separator">|</span>
                                            <span (click) =" onFourStar()">
                                                <a ><i class="zmdi" [class.zmdi-star-outline]="!fourStar" [class.zmdi-star]="fourStar"></i></a>
                                                <a ><i class="zmdi" [class.zmdi-star-outline]="!fourStar" [class.zmdi-star]="fourStar"></i></a>
                                                <a ><i class="zmdi" [class.zmdi-star-outline]="!fourStar" [class.zmdi-star]="fourStar"></i></a>
                                                <a ><i class="zmdi" [class.zmdi-star-outline]="!fourStar" [class.zmdi-star]="fourStar"></i></a>

                                            </span>
                                            <span class="separator">|</span>
                                            <span (click) ='onFiveStar()'>
                                                <a ><i class="zmdi" [class.zmdi-star-outline]="!fiveStar" [class.zmdi-star]="fiveStar"></i></a>
                                                <a ><i class="zmdi" [class.zmdi-star-outline]="!fiveStar" [class.zmdi-star]="fiveStar"></i></a>
                                                <a ><i class="zmdi" [class.zmdi-star-outline]="!fiveStar" [class.zmdi-star]="fiveStar"></i></a>
                                                <a ><i class="zmdi" [class.zmdi-star-outline]="!fiveStar" [class.zmdi-star]="fiveStar"></i></a>
                                                <a ><i class="zmdi" [class.zmdi-star-outline]="!fiveStar" [class.zmdi-star]="fiveStar"></i></a>

                                            </span>
                                        </div>
                                        <div class="reply-box">
                                            <form  [formGroup]="reviewForm" (ngSubmit)="Freview()">
                                                <div class="row">
                                                    <div class="col-md-6">
                                                        <input type="text" placeholder="Your name here..." name="name" formControlName="name" />
                                                    </div>
                                                    <div *ngIf="name?.touched && name?.invalid" class="alert alert-danger error" >
                                                        Name is required 
                                                    </div>
                                                    <div class="col-md-6">
                                                        <input type="text" placeholder="Title..." formControlName="title" />
                                                    </div>
                                                    
                                                </div>
                                                <div class="row">
                                                    <div class="col-md-12">
                                                        <textarea class="custom-textarea" name="message" placeholder="Your review here..." formControlName="text"></textarea>
                                                        <label for="file">Upload an image</label>
                                                        <br>
                                                        <input (change)="onSelectedFile($event)" id="file" type="file" name="myImage" class="form-control" >
                                                      
                                                        <br>
                                                        <label>
                                                            <input type="checkbox" name="example" formControlName="recommandProduct"  >
                                                            Would you recommend this product to a friend ?
                                                        </label>  
                                                        <br>
                                                        <button type="submit" data-text="submit review" class="button-one submit-button mt-20" [disabled]="!reviewForm.valid">submit review</button>
                                                    </div>
                                                </div>
                                              
                                            </form>
                                        </div>
                                    </div>
                                </div>		
                            </div>
                            <div class="tab-pane" id="information" [class.active]="isInfActive">
                                <div class="pro-tab-info pro-information">
                                    <h3 class="tab-title title-border mb-30">Product information</h3>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer accumsan egestas elese ifend. Phasellus a felis at est bibendum feugiat ut eget eni Praesent et messages in con sectetur posuere dolor non.</p>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer accumsan egestas elese ifend. Phasellus a felis at est bibendum feugiat ut eget eni Praesent et messages in con sectetur posuere dolor non.</p>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer accumsan egestas elese ifend. Phasellus a felis at est bibendum feugiat ut eget eni Praesent et messages in con sectetur posuere dolor non.</p>
                                </div>											
                            </div>
                            <div class="tab-pane" id="tags" [class.active]="isTagActive">
                                <div class="pro-tab-info pro-information">
                                    <h3 class="tab-title title-border mb-30">tags</h3>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer accumsan egestas elese ifend. Phasellus a felis at est bibendum feugiat ut eget eni Praesent et messages in con sectetur posuere dolor non.</p>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer accumsan egestas elese ifend. Phasellus a felis at est bibendum feugiat ut eget eni Praesent et messages in con sectetur posuere dolor non.</p>
                                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer accumsan egestas elese ifend. Phasellus a felis at est bibendum feugiat ut eget eni Praesent et messages in con sectetur posuere dolor non.</p>
                                </div>											
                            </div>
                        </div>									
                    </div>
                </div>
            </div>
            <!-- single-product-tab end -->
        </div>
    </div>
    <!-- PRODUCT-AREA END -->
    
    
    
</div>

		