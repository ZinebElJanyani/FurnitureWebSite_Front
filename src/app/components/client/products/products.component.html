<app-navbar></app-navbar>
<div class="wrapper bg-dark-white">
	<!-- HEADING-BANNER START -->
	<div class="heading-banner-area overlay-bg">
		<div class="container">
			<div class="row">
				<div class="col-md-12">
					<div class="heading-banner">
						<div class="heading-banner-title">
							<h2>Affordable quality, guaranteed</h2>
						</div>
						<div class="breadcumbs pb-15">
							<ul>
								<li><a href="#">Home</a></li>
								<li>Product grid view</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- HEADING-BANNER END -->
	<!-- PRODUCT-AREA START -->
	
	<div class="product-area pt-80 pb-80 product-style-2">
		<div class="container">
			<div class="row">
				<div class="col-md-3 col-sm-12 col-xs-12">
					<!-- Widget-Search start -->
					<aside class="widget widget-search mb-30">
						<form action="#">
							<input type="text" placeholder="Search here..." #searchValue />
							<button type="submit">
								<i class="zmdi zmdi-search"></i>
							</button>
						</form>
					</aside>
					<!-- Widget-search end -->
					<!-- Widget-Categories start -->
					<aside class="widget widget-categories  mb-30">
					<div class="widget-title">
							<h4>Categories</h4>
						</div>
						<div id="cat-treeview"  class="widget-info product-cat boxscrol2" *ngFor="let c of collections">
							
							<zippy title ="{{c.title}}" (headerClick)="OnheaderClick(c)" [isOpen]="(c == currentCollect)? true:false" let a="">
								<ul>
									<li *ngFor="let catg of c.categories"><a class="categ_link"[routerLink]="['/products', 2, catg.id]" (click)="curentCatg(catg)"  [class.active]="CurentCtg == catg">{{catg.title}}</a></li>
								<!--	<li><a href="#">Rugs</a></li>
									<li><a href="#">Daybeds</a></li>
									<li><a href="#">Bookcases</a></li>
									<li><a href="#">Chests</a></li>
									<li><a href="#">Tables</a></li>
									<li><a href="#">TV Stands</a></li>-->
								</ul>
							 </zippy>
							<!-- <zippy title ="Bedroom">
								<ul>
									<li><a href="#">Beds</a></li>
									<li><a href="#">Mattresses</a></li>
									<li><a href="#">Dressers</a></li>
									<li><a href="#">Vanities</a></li>
									<li><a href="#">Bedding</a></li>
									<li><a href="#">Armoires+Wadrobes</a></li>
								</ul>
							 </zippy>
							 <zippy title ="Office">
								<ul>
									<li><a href="#">Office Chairs</a></li>
									<li><a href="#">Office Desks</a></li>
									<li><a href="#">Office Sets</a></li>
									<li><a href="#">Desk lamps</a></li>
									<li><a href="#">Gaming Chairs</a></li>
								</ul>
							 </zippy>
							 <zippy title ="Dining Room">
								<ul>
									<li><a href="#">Dining Tables</a></li>
									<li><a href="#">Dining Chairs</a></li>
									<li><a href="#">Sideboards+buffets</a></li>
								</ul>
							 </zippy>
							 <zippy title ="Kids Room">
								<ul>
									<li><a href="#">Chests</a></li>
									<li><a href="#">Kids bed</a></li>
									<li><a href="#">Kids Dressers+chests</a></li>
									<li><a href="#">Kids Dicor</a></li>
								</ul>
							 </zippy>
							 <zippy title ="Patio & Backyard">
								<ul>
									<li><a href="#">Sets</a></li>
									<li><a href="#">Sofas</a></li>
									<li><a href="#">outdoor tables</a></li>
									<li><a href="#">Outdoor Decor</a></li>
								</ul>
							 </zippy>-->
							
								
						</div>
					</aside>
					<!-- Widget-categories end -->
					<!-- Shop-Filter start -->
					<aside class="widget shop-filter mb-30">
						<div class="widget-title">
							<h4>Price</h4>
						</div>
						<div class="price-input container">
							<div class="price-values">
								<div class="field">
									<span>Min</span>
									<input  type="number" class="input-min" value="{{minPrice}}" (change)="onInputMinChange($event)">
								</div>
								<div class="separator">-</div>
								<div class="field">
									<span>Max</span>
									<input type="number" class="input-max" value="{{maxPrice}}" (change)="onInputMaxChange($event)">
								</div>
							</div>
							<div class="progress-field">
								<div class="slider1">
									<div class="progress1" #progress></div>
								</div>
								<div class="range-input">
									<input #min type="range" class="range-min" min="0" max="10000" value="0" (input)="onRangeMinChange($event)">
									<input #max type="range" class="range-max" min="0" max="10000" value="10000" (input)="onRangeMaxChange($event)">

								</div>
							</div>
							
						</div>
					</aside>
					<!-- Shop-Filter end -->
					<!-- Widget-Color start -->
					<aside class="widget widget-color mb-30">
						<div class="widget-title">
							<h4>Color</h4>
						</div>
						<div class="widget-info color-filter clearfix">
							<ul>
								<li [class.active]="isActive==1"><a (click)="onSelectedColor('Gray',1)"><span class="color" style="background: #686868;"></span>Gray</a></li>
								<li  [class.active]="isActive==2"><a  (click)="onSelectedColor('Brown',2)"><span class="color" style="background: #826113;"></span>Brown</a></li>
								<li  [class.active]="isActive==3"><a  (click)="onSelectedColor('White',3)"><span class="color" style="background: #ffff;"></span>White</a></li>
								<li  [class.active]="isActive==4"><a  (click)="onSelectedColor('Black',4)"><span class="color" style="background: #000000"></span>Black</a></li>
								<li  [class.active]="isActive==5"><a  (click)="onSelectedColor('Beige',5)"><span class="color" style="background: #E8DCCA;"></span>Beige</a></li>
								<li  [class.active]="isActive==6"><a  (click)="onSelectedColor('Ivory',6)"><span class="color" style="background: #F3F0D5;"></span>Ivory</a></li>
								<li  [class.active]="isActive==7"><a  (click)="onSelectedColor('Blue',7)"><span class="color" style="background: #00699A;"></span>Blue</a></li>
								<li  [class.active]="isActive==8"><a  (click)="onSelectedColor('Pink',8)"><span class="color" style="background: #EAB3B3;"></span>Pink</a></li>
								<li  [class.active]="isActive==9"><a (click)="onSelectedColor('Orange',9)"><span class="color" style="background: #ED7F3E;"></span>Orange</a></li>
								<li  [class.active]="isActive==10"><a  (click)="onSelectedColor('Gold',10)"><span class="color" style="background: #DCBF6F;"></span>Gold</a></li>
								<li  [class.active]="isActive==11"><a  (click)="onSelectedColor('Red',11)"><span class="color" style="background: #AE2727;"></span>Red</a></li>
								<li  [class.active]="isActive==12"><a (click)="onSelectedColor('Green',12)"><span class="color" style="background: #238747;"></span>Green</a></li>
								<li [class.active]="isActive==13"><a (click)="onSelectedColor('null',13)"><span class="color" style="background: transparent;border: #DCBF6F;"></span>All colors</a></li>

							</ul>
						</div>
					</aside>
					<!-- Widget-Color end -->
					<!-- Widget-Size start -->
					<!--<aside class="widget widget-size mb-30">
						<div class="widget-title">
							<h4>Size</h4>
						</div>
						<div class="widget-info size-filter clearfix">
							<ul>
								<li><a href="#">M</a></li>
								<li class="active"><a href="#">S</a></li>
								<li><a href="#">L</a></li>
								<li><a href="#">SL</a></li>
								<li><a href="#">XL</a></li>
							</ul>
						</div>
					</aside>-->
					<!-- Widget-Size end -->
					<!-- Widget-banner start -->
					<aside class="widget widget-banner hidden-sm">
						<div class="widget-info widget-banner-img">
							<a href="#"><img src="assets/images/home_img/products_pub.jpg" alt="" /></a>
						</div>
					</aside>
					<!-- Widget-banner end -->
				</div>
				<div class="col-md-9 col-sm-12 col-xs-12">
					<!-- Shop-Content End -->
					<div class="shop-content mt-tab-30 mt-xs-30">
						<div class="product-option mb-30 clearfix">
							<!-- Nav tabs -->
							<ul class="shop-tab">
								<li [class.active]="short"><a (click)="onShortClick()" data-toggle="tab"><i class="zmdi zmdi-view-module"></i></a></li>
								<li [class.active]="long"><a (click)="onLongClick()"  data-toggle="tab"><i class="zmdi zmdi-view-list"></i></a></li>
							</ul>
							<div class="showing text-right hidden-xs">
								<p class="mb-0">Showing 01-09 of {{productsSize}} Results</p>
							</div>
						</div>
						<!-- Tab panes -->
						<div class="tab-content">
							<div class="tab-pane" id="grid-view" [class.active]="short">							
								<div class="row">
									<!-- Single-product start -->
									<div class="col-lg-4 col-md-4 col-sm-6 col-xs-12" *ngFor="let p of produits | paginate: { itemsPerPage: 9, currentPage: p }; let i = index; ">
										<div class="single-product">
											<div class="product-img">
												<span *ngIf="p.promotion>0" class="pro-label new-label">-{{p.promotion}} %</span>
												<span *ngIf="p.qteStock==0" class="pro-label stock-label">Out Of Stock</span>
												<span class="pro-price-2">{{p.price|number:'0.00'}} DH</span>
												<a [routerLink]="['/product-detail', p.id]"><img src="{{this.categoryService.host+'/productFirst_P/'+p.id}}" alt="" /></a>
											</div>
											<div class="product-info clearfix text-center">
												<div class="fix">
													<h4 class="post-title"><a [routerLink]="['/product-detail', p.id]">{{p.nom}}</a></h4>
												</div>
												<div class="fix">
													<span class="pro-rating">
													  <ng-container *ngIf="p.stars; else noRating">
														<ng-container *ngFor="let star of fullStarsArray(p.stars)">
														  <a href="#"><i class="zmdi zmdi-star"></i></a>
														</ng-container>
														
														<ng-container *ngIf="hasHalfStar(p.stars)">
														  <a href="#"><i class="zmdi zmdi-star-half"></i></a>
														</ng-container>
														<ng-container *ngFor="let star of hasEmptyStar(p.stars)">
															<a href="#"><i class="zmdi zmdi-star-outline"></i></a>
														</ng-container>

													  
													  </ng-container>
													  <ng-template #noRating >
														<p style="color: #c87065;">No rating yet</p>
													  </ng-template>
													</span>
												</div>
												  
												<div class="product-action clearfix">
													<a  (click)="favorite(i,p.id)" data-toggle="tooltip" data-placement="top" title="Wishlist"><i class="zmdi" [class.zmdi-favorite]="this.isFavorite[i]" [class.zmdi-favorite-outline]="!this.isFavorite[i]  "></i></a>
													<a (click)="openModelopen(p)" data-toggle="modal"  title="Quick View"><i class="zmdi zmdi-zoom-in"></i></a>
													<a (click)="onAddToCart(p.id,1)" data-toggle="tooltip" data-placement="top" title="Add To Cart"><i class="zmdi zmdi-shopping-cart-plus"></i></a>
												</div>
											</div>
										</div>
									</div>
									<!-- Single-product end -->
								</div>
							</div>

							<div class="tab-pane" id="list-view" [class.active]="long">							
								<div class="row shop-list">
									<!-- Single-product start -->
									<div class="col-lg-12" *ngFor="let p of produits | paginate: { itemsPerPage: 9, currentPage: p }; let i = index; ">
										<div class="single-product clearfix">
											<div class="product-img">
												<span *ngIf="p.promotion>0" class="pro-label new-label">-{{p.promotion}} %</span>
												<span *ngIf="p.qteStock==0" class="pro-label stock-label">Out Of Stock</span>
												<span class="pro-price-2">{{p.price|number:'0.00'}} DH</span>
												<a [routerLink]="['/product-detail', p.id]"><img src="{{this.categoryService.host+'/productFirst_P/'+p.id}}" alt="" /></a>
											</div>
											<div class="product-info">
												<div class="fix">
													<h4 class="post-title floatleft"><a [routerLink]="['/product-detail', p.id]">{{p.nom}}</a></h4>

													<span class="pro-rating floatright">
													  <ng-container *ngIf="p.stars; else noRating">
														<ng-container *ngFor="let star of fullStarsArray(p.stars)">
														  <a href="#"><i class="zmdi zmdi-star"></i></a>
														</ng-container>
														
														<ng-container *ngIf="hasHalfStar(p.stars)">
														  <a href="#"><i class="zmdi zmdi-star-half"></i></a>
														</ng-container>
														<ng-container *ngFor="let star of hasEmptyStar(p.stars)">
															<a href="#"><i class="zmdi zmdi-star-outline"></i></a>
														</ng-container>

													  
													  </ng-container>
													  <ng-template #noRating >
														<p style="color: #c87065;">No rating yet</p>
													  </ng-template>
													</span>
												</div>
												<div class="fix mb-20">
													<span class="pro-price">{{p.price|number:'0.00'}} DH</span>
					
												</div>
												<div class="product-description">
													<p>{{p.description}}</p>
												</div>
												<div class="clearfix">
											
													<div class="product-action clearfix">
														<a  (click)="favorite(i,p.id)" data-toggle="tooltip" data-placement="top" title="Wishlist"><i class="zmdi" [class.zmdi-favorite]="this.isFavorite[i]" [class.zmdi-favorite-outline]="!this.isFavorite[i]  "></i></a>
														<a (click)="openModelopen(p)" data-toggle="modal"  title="Quick View"><i class="zmdi zmdi-zoom-in"></i></a>
														<a (click)="onAddToCart(p.id,1)" data-toggle="tooltip" data-placement="top" title="Add To Cart"><i class="zmdi zmdi-shopping-cart-plus"></i></a>
													</div>
												</div>
											</div>
										</div>
									</div>
									
								</div>
							</div>
						</div>
						<!-- Pagination start -->
						<div class="mt-3 py-2 flex justify-center items-center">
						
								<!--<ul>
									<li><a href="#"><i class="zmdi zmdi-long-arrow-left"></i></a></li>
									<li><a href="#">01</a></li>
									<li class="active"><a href="#">02</a></li>
									<li><a href="#">03</a></li>
									<li><a href="#">04</a></li>
									<li><a href="#">05</a></li>
									<li><a href="#"><i class="zmdi zmdi-long-arrow-right"></i></a></li>
								</ul>-->
								<pagination-controls (pageChange)="p = $event" class="my-pagination"></pagination-controls>

							
						</div>
						<!-- Pagination end -->
					</div>
					<!-- Shop-Content End -->
				</div>
			</div>
		</div>
	</div>
	<!-- PRODUCT-AREA END -->
	
	
	<!-- QUICKVIEW PRODUCT -->
	<div id="quickview-wrapper">
	   <!-- Modal -->
	   <div class="modal fade" id="productModal" tabindex="-1" role="dialog">
			<div class="modal-dialog" role="document">
				<div class="modal-content">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="openModelclose()"  ><span aria-hidden="true">&times;</span></button>
					</div>
					<div class="modal-body">
						<div class="modal-product">
							<div class="product-images">
								<div class="main-image images">
									<img alt="#" src="{{this.categoryService.host+'/productFirst_P/'+product.id}}" style="
									height: 20rem;
									margin: 50px 0px;"/>
								</div>
							</div><!-- .product-images -->

							<div class="product-info">
								<h1>{{product.nom}}</h1>
								<div class="price-box-3">
									<hr />
									<div class="s-price-box">
										<span class="new-price">{{product.price - product.promotion}} DH</span>
										
										<span *ngIf="product.promotion" class="old-price">{{product.price}} DH</span>
									</div>
									<hr />
								</div>
								<a [routerLink]="['/product-detail', product.id]" class="see-all">See all features</a>
								<div class="quick-add-to-cart">
									
										<div class="numbers-row">
											<input type="number" id="french-hens" value="{{modalCartQuantity}}"  (change)="onInputChange($event)">
										</div>
										<button class="single_add_to_cart_button" type="submit" (click)="onAddToCart(product.id,modalCartQuantity)"  >Add to cart</button>
									
								</div>
								<div class="quick-desc">
									Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam fringilla augue nec est tristique auctor. Donec non est at libero.
								</div>
								<div class="social-sharing">
									<div class="widget widget_socialsharing_widget">
										<h3 class="widget-title-modal">Share this product</h3>
										<ul class="social-icons">
											<li><a target="_blank" title="Google +" href="#" class="gplus social-icon"><i class="zmdi zmdi-google-plus"></i></a></li>
											<li><a target="_blank" title="Twitter" href="#" class="twitter social-icon"><i class="zmdi zmdi-twitter"></i></a></li>
											<li><a target="_blank" title="Facebook" href="#" class="facebook social-icon"><i class="zmdi zmdi-facebook"></i></a></li>
											<li><a target="_blank" title="LinkedIn" href="#" class="linkedin social-icon"><i class="zmdi zmdi-linkedin"></i></a></li>
										</ul>
									</div>
								</div>
							</div><!-- .product-info -->
						</div><!-- .modal-product -->
					</div><!-- .modal-body -->
				</div><!-- .modal-content -->
			</div><!-- .modal-dialog -->
	   </div>
	   <!-- END Modal -->
	</div>
	<!-- END QUICKVIEW PRODUCT -->	
	<!-- Button trigger modal -->
	
	
</div>